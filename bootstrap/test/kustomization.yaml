apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: test

resources:
- namespace.yaml
- alpine-deployment.yaml

commonLabels:
  managed-by: argocd

# Configurable alpine image tag
# Default: edge
# Override by setting a specific tag (e.g., "3.18" for alpine:3.18)
images:
- name: alpine
  newTag: "edge"

# Patch: Add htop installation via postStart lifecycle hook
patchesStrategicMerge:
- alpine-deployment-patch.yaml
